# Card Duel Gomoku

<img width="961" height="564" alt="b05f7bdd47aeb4075c9533b32595a97" src="https://github.com/user-attachments/assets/e92827f0-0d66-484b-8b9b-d96d3fefa12c" />


这是一款结合了经典五子棋玩法和现代游戏设计的像素风休闲游戏。它以简洁美观的像素画风、流畅的动画效果和悦耳的背景音乐，为玩家带来了全新的五子棋体验。

这个项目是作为“程序设计”课程的作业而创建的。

## ✨ 主要功能 (Features)

- **精致的像素美术风格**: 游戏整体采用像素画风，界面简洁清新，充满怀旧感。
- **本地双人对战**: 支持两名玩家在同一台设备上进行对战。
- **丰富的动画与音效**: 拥有可爱的史莱姆棋子动画、落子音效、胜利动画和镜头晃动等效果，增强了游戏的趣味性和沉浸感。
- **多场景切换**: 实现了主菜单、棋盘选择和游戏界面的流畅切换。
- **存档与读档**:
  - 可以随时将游戏进度保存到本地。
  - 能够加载过去的棋盘，方便复盘或继续游戏。
  - 存档文件可以分享给他人。
- **智能对局辅助**:
  - 自动识别五子连珠并判定胜负。
  - 内置计时器，记录每一步的思考时间。

## 📸 游戏截图 (Screenshots)

|        主菜单         |       棋盘选择        |
| :-------------------: | :-------------------: |
|  <img width="972" height="569" alt="2e45b6f2cabac5bfe01d2e7108e3105" src="https://github.com/user-attachments/assets/b63417ed-375d-4493-bdec-25f28e7bd9aa" /> | <img width="961" height="564" alt="3fa35b884b21eca58c41a242b2cb498" src="https://github.com/user-attachments/assets/44aafba6-ec96-4e33-99ea-35b4981647df" />|
|     **游戏对局**      |     **胜利画面**      |
| <img width="961" height="564" alt="38ad241e31948c7786a3a0e6ea8d275" src="https://github.com/user-attachments/assets/ee1e4e26-0081-4a88-a32a-16945adfbd08" /> | <img width="961" height="564" alt="b05f7bdd47aeb4075c9533b32595a97" src="https://github.com/user-attachments/assets/c505a99f-62e6-4814-b951-58f24d58a79e" />|


## 🛠️ 技术栈 (Tech Stack)

- **语言**: `C++`
- **图形/多媒体库**: `SDL2`, `SDL_image`, `SDL_mixer`, `SDL_ttf`
- **数据存储**: `pugixml` 用于处理和读写 XML 格式的存档文件。

## 🏛️ 系统架构设计 (Architecture)

项目采用了模块化的面向对象设计，代码结构清晰，易于扩展和维护。核心类设计如下：

- **场景管理**
  - `SceneManager`: 场景管理器，负责调度和切换不同的游戏场景（如主菜单、游戏界面）。
  - `Scene`: 场景基类，定义了场景的通用接口（初始化、事件处理、更新、渲染），具体场景类继承并实现它。

- **游戏逻辑**
  - `BoardManager`: 棋盘管理器，负责处理核心游戏逻辑，如加载棋盘、检测胜利条件、调用存档等。
  - `Board`: 棋盘类，存储单个棋盘的状态、棋子信息，并处理玩家的下棋操作。
  - `Tile`: 棋子类（格子），存储每个格点的状态（是否被占用、占用玩家），并处理该格点的交互和动画。
  - `Player`: 玩家类，管理当前玩家、下一位玩家等对局信息。

- **核心工具类**
  - `GameData`: 游戏数据类，利用 `pugixml` 封装了所有对存档文件的读写操作，提供统一的数据接口。
  - `Animation` & `Atlas`: 动画类与图集类，配合 `Timer` 实现精灵动画的稳定播放和管理。
  - `Button` & `B_List`: 按钮及按钮列表类，封装了 UI 按钮的悬停、点击事件和渲染逻辑，支持列表滚动。
  - `Camera`: 摄像机类，独立管理游戏画面的渲染，实现了镜头晃动等效果。
  - `Timer`: 计时器类，实现延迟执行、周期性触发等功能，是动画和游戏内计时器的基础。
  - `Vector2`: 二维向量类，重载了常用运算符，简化了 2D 坐标和向量的计算。

- **角色动画**
  - `Slime`: 史莱姆类，实现了棋子角色的待机动画、随机停顿和五子连珠后的消失动画，使游戏更生动。
